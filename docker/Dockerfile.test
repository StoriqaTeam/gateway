FROM rust:1.24.1-stretch

COPY . /app
WORKDIR /app

RUN rustup component add rustfmt-preview

RUN cargo fmt --all -- --write-mode=diff
RUN cargo test
